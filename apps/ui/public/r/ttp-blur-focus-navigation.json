{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ttp-blur-focus-navigation",
  "type": "registry:block",
  "title": "Blur Focus Navigation",
  "description": "Navigation bar with dynamic blur effect that highlights active sections",
  "dependencies": [
    "motion",
    "next"
  ],
  "files": [
    {
      "path": "components/ui/totheprod-ui/ttp-blur-focus-navigation.tsx",
      "content": "/** biome-ignore-all lint/correctness/useImageSize: motion.img with layoutId doesn't support width/height */\n/** biome-ignore-all lint/performance/noImgElement: motion.img is required for animation transitions */\n\"use client\"\n\nimport { AnimatePresence, motion } from \"motion/react\"\nimport Link from \"next/link\"\nimport {\n  createContext,\n  type ReactNode,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\"\nimport { createPortal } from \"react-dom\"\nimport { cn } from \"@/lib/utils\"\n\ntype NavContextType = {\n  hoveredId: string | null\n  setHoveredId: (id: string | null) => void\n  registerImage: (id: string, image: string) => void\n  images: Map<string, string>\n}\n\nconst NavContext = createContext<NavContextType | null>(null)\n\nconst useNavContext = () => {\n  const context = useContext(NavContext)\n  if (!context) {\n    throw new Error(\n      \"TtpBlurFocusNavigationItem must be used within TtpBlurFocusNavigation\"\n    )\n  }\n  return context\n}\n\ntype TtpBlurFocusNavigationProps = {\n  /**\n   * Navigation items as children\n   */\n  children: ReactNode\n}\n\n/**\n * HomeBlurredNav - A navigation component with blurred background\n *\n * A beautiful navigation bar with backdrop blur effect, perfect for home pages.\n *\n * @example\n * ```tsx\n * <TtpBlurFocusNavigation>\n *   <TtpBlurFocusNavigationItem href=\"/\" id=\"home\" label=\"Home\" />\n *   <TtpBlurFocusNavigationItem href=\"/about\" id=\"about\" label=\"About\" />\n * </TtpBlurFocusNavigation>\n * ```\n */\nexport const TtpBlurFocusNavigation = ({\n  children,\n}: TtpBlurFocusNavigationProps) => {\n  const [hoveredId, setHoveredId] = useState<string | null>(null)\n  const [images, setImages] = useState<Map<string, string>>(new Map())\n\n  const registerImage = useCallback((id: string, image: string) => {\n    setImages((prev) => {\n      const newMap = new Map(prev)\n      newMap.set(id, image)\n      return newMap\n    })\n  }, [])\n\n  const contextValue = useMemo<NavContextType>(\n    () => ({\n      hoveredId,\n      setHoveredId,\n      registerImage,\n      images,\n    }),\n    [hoveredId, images, registerImage]\n  )\n\n  const hoveredImage = hoveredId ? images.get(hoveredId) : null\n\n  return (\n    <NavContext.Provider value={contextValue}>\n      <motion.nav\n        className=\"relative flex w-full flex-col items-center justify-between gap-2 border-border/40 border-b bg-background/80 py-2 backdrop-blur-md transition-colors dark:border-border/20\"\n        style={{\n          backgroundColor: \"hsl(var(--background) / 0.8)\",\n          backdropFilter: \"blur(12px)\",\n        }}\n      >\n        {children}\n      </motion.nav>\n      {typeof document !== \"undefined\" &&\n        createPortal(\n          <AnimatePresence mode=\"wait\">\n            {hoveredImage && (\n              <motion.img\n                alt=\"Nav preview\"\n                animate={{\n                  opacity: 1,\n                  scale: 1,\n                }}\n                className=\"pointer-events-none fixed right-4 bottom-4 z-50 max-w-64 origin-bottom-right overflow-hidden rounded-lg border border-border shadow-2xl\"\n                exit={{ opacity: 0, scale: 0.8 }}\n                initial={{ opacity: 0, scale: 0.8 }}\n                key={\"image-preview\"}\n                src={hoveredImage}\n                transition={{ duration: 0.2, ease: \"easeOut\" }}\n              />\n            )}\n          </AnimatePresence>,\n          document.body\n        )}\n    </NavContext.Provider>\n  )\n}\n\nexport type TtpBlurFocusNavigationItemProps = {\n  className?: string\n  label: string\n  href: string\n  id: string\n  image: string\n}\n\n/**\n * HomeBlurredNavItem - A navigation item component\n *\n * Individual navigation item that updates the shared hover state via context.\n *\n * @example\n * ```tsx\n * <TtpBlurFocusNavigationItem href=\"/\" id=\"home\" label=\"Home\" />\n * ```\n */\nexport const TtpBlurFocusNavigationItem = ({\n  label,\n  href,\n  id,\n  className,\n  image,\n}: TtpBlurFocusNavigationItemProps) => {\n  const { hoveredId, setHoveredId, registerImage } = useNavContext()\n  const isHovered = hoveredId === id\n\n  // Register the image with the id when component mounts\n  useEffect(() => {\n    if (image) {\n      registerImage(id, image)\n    }\n  }, [id, image, registerImage])\n\n  return (\n    <Link\n      className={cn(\n        \"relative font-black text-5xl uppercase blur-none transition-all duration-300\",\n        !isHovered && \"opacity-50 blur-sm\",\n        hoveredId === null && \"opacity-100 blur-none\",\n        className\n      )}\n      href={href}\n      onMouseEnter={() => setHoveredId(id)}\n      onMouseLeave={() => setHoveredId(null)}\n    >\n      {label}\n    </Link>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "category": "navigation-and-menus",
    "tags": [
      "navigation",
      "navbar",
      "blur",
      "glassmorphism",
      "focus"
    ],
    "installCommand": "npx shadcn@latest add https://ui.totheprod.com/r/ttp-blur-focus-navigation.json"
  }
}