{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ttp-perspective-carousel",
  "type": "registry:block",
  "title": "Perspective Carousel",
  "description": "3D carousel with depth and perspective transforms",
  "dependencies": ["embla-carousel-react"],
  "files": [
    {
      "path": "components/ui/totheprod-ui/ttp-perspective-carousel.tsx",
      "content": "\"use client\"\n\nimport {\n  type MotionValue,\n  motion,\n  useScroll,\n  useTransform,\n} from \"framer-motion\"\nimport { useEffect, useRef } from \"react\"\nimport PreviewHeading from \"@/components/internal/preview-heading\"\n\nconst items = [\n  { text: \"Content Creation\", backgroundColor: \"#FCB8FA\" },\n  { text: \"Social Media\", backgroundColor: \"#34C791\" },\n  { text: \"Email Marketing\", backgroundColor: \"#0F8DFF\" },\n  { text: \"Analytics\", backgroundColor: \"#FA5325\" },\n]\n\nconst StickyCard = ({\n  i,\n  text,\n  backgroundColor,\n  progress,\n  range,\n  targetScale,\n}: {\n  i: number\n  text: string\n  backgroundColor: string\n  progress: MotionValue<number>\n  range: [number, number]\n  targetScale: number\n}) => {\n  const scale = useTransform(progress, range, [1, targetScale])\n  const rotateX = useTransform(progress, range, [0, 25])\n  const rotateY = useTransform(progress, range, [0, i % 2 === 0 ? 10 : -10])\n  const top = useTransform(progress, range, [0, 100])\n\n  return (\n    <div\n      className=\"sticky top-16 flex w-full items-center justify-center\"\n      style={{ perspective: \"1000px\" }}\n    >\n      <motion.div\n        className=\"relative flex h-[90vh] w-full flex-col items-center justify-center overflow-hidden rounded-3xl text-center font-bold text-6xl text-white shadow-2xl will-change-transform\"\n        style={{\n          scale,\n          rotateX,\n          rotateY,\n          backgroundColor,\n          transformOrigin: \"top center\",\n          top,\n        }}\n      >\n        <span className=\"absolute top-8 left-8\">{text}</span>\n        <span className=\"absolute right-8 bottom-8 text-[25vw] opacity-25\">\n          {i + 1}\n        </span>\n      </motion.div>\n    </div>\n  )\n}\n\nexport const TtpPerspectiveCarousel = () => {\n  const scrollContainerId = \"preview-scroll-container\"\n\n  const scrollContainerRef = useRef<HTMLElement | null>(null)\n\n  useEffect(() => {\n    const container = document.getElementById(scrollContainerId)\n    scrollContainerRef.current = container\n  }, [])\n\n  const { scrollYProgress } = useScroll({\n    target: scrollContainerRef,\n    offset: [\"start start\", \"end end\"],\n    container: scrollContainerRef,\n  })\n\n  return (\n    <div\n      className=\"flex w-full flex-col items-center justify-start gap-16 bg-[#FAF4EC] px-8 pb-[200vh] dark:bg-[#100e0f]\"\n      data-preview-padding=\"false\"\n    >\n      <PreviewHeading\n        className=\"py-[20vh]\"\n        description=\"Scroll down to see the effect.\"\n        title=\"Perspective Carousel\"\n      />\n      {items.map((item, i) => {\n        const targetScale = 0.3\n        return (\n          <StickyCard\n            i={i}\n            key={`item_${i}`}\n            {...item}\n            progress={scrollYProgress}\n            range={[i * 0.25, 1]}\n            targetScale={targetScale}\n          />\n        )\n      })}\n    </div>\n  )\n}\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "category": "scroll-interactions",
    "tags": ["carousel", "3d", "perspective", "scroll"],
    "installCommand": "npx shadcn@latest add https://ui.totheprod.com/r/ttp-perspective-carousel.json"
  }
}
